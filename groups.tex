\chapter{Groups}

\epigraph[author={Mark Armstrong}, source={Groups and Symmetry}]{Numbers measure quantity, groups measure symmetry}\SubIndex{Armstrong, Mark}

\epigraph[author={Henri Poincar\'e}]{The theory of groups is, as it were, the whole of mathematics stripped of its matter 
and reduced to pure form.}\SubIndex{Poincar\'e, Henri}

\section{Groups}

Each symmetry of an equilateral triangle in the plane permutes the vertices.
If we label the vertices, say as \(1,2,3\), then every permutation of the labels \(1,2,3\) occurs from a unique symmetry of the triangle.
So the symmetries of the equilateral triangle correspond to the permutations of the labels, i.e. the symmetry group of the equilateral triangle is, in some sense, the same as the symmetric group on three letters.
It is this notion of correspondence that leads us to see that two transformation groups can be ``the same'' while they are transforming very different sets; in our example, the symmetries of the equilateral triangle transform the infinitely many points of the triangle, while the permutations of three letters transform a set of three letters.
In order to say what is ``the same'' in the two transformation groups, we need a more abstract concept of group.

A \emph{group}\define{group} is a set \(G\) so that
\begin{enumerate}
\item 
To any elements \(a,b\) of \(G\) there is associated an element \(ab\) of \(G\), called the \emph{product} of \(a\) and \(b\).
\item
The product is associative: if \(a,b,c\) are elements of \(G\), then \((ab)c=a(bc)\), so that either expression is denoted as \(abc\).
\item
There is an identity element: some element \(1\) of \(G\), so that \(a1=1a=a\) for any element \(a\) of \(G\).
\item
Every element is invertible: if \(a\) is an element of \(G\), there is an element, denoted \(a^{-1}\), of \(G\) for which \(aa^{-1}=a^{-1}a=1\).
\end{enumerate}

\begin{example}
Nonzero rational numbers form a group \(G\) under usual multiplication, where \(a^{-1}\) means the reciprocal of any rational number \(a\).
Note that \(0\) does not have a reciprocal, so we have to remove it.
\end{example}
\begin{example}
Nonzero elements of any field form a group \(G\) under usual multiplication, where \(a^{-1}\) means the reciprocal of any element \(a\).
Note that \(0\) does not have a reciprocal, so we have to remove it.
\end{example}
\begin{example}
Any transformation group \(G\) is a group, using composition of transformations as its product, and the identity transformation as its identity element.
In particular, as examples of groups: the symmetry groups of geometric figures, the group of invertible matrices (under matrix multiplication), the symmetry group on some letters, the group of rotations of the Euclidean plane, and the group of rotations of Euclidean space.
\end{example}

It is easier to check if a collection of transformations forms a transformation group than to check if some abstract product operation forms a group; almost all of our examples of groups will be transformation groups in some obvious way.

Two elements \(a,b\) of a group \emph{commute}\define{commuting} if \(ab=ba\).
A group is \emph{abelian}\define{abelian} if any two elements of the group commute.

\begin{example}
Nonzero rational numbers form an abelian group under usual multiplication.
\end{example}
\begin{example}
Nonzero elements of any field form an abelian group under usual multiplication.
\end{example}
\begin{example}
Invertible \(2 \times 2\) matrices, with entries drawn from some chosen field, form an non-abelian group under usual matrix multiplication.
\end{example}
\begin{example}
The symmetries of the equilateral triangle form a non-abelian group: if we rotate by \(120\si{\degree}\) and the reflect across an angle bisector, we get a different result than if we first reflect across that bisector and then rotate.
\end{example}


\begin{problem}{groups:associativity}
Prove that, for any elements \(a,b,c,d\) of a group \(G\), 
\[
a(b(cd))=(ab)(cd)=((ab)c)d.
\]
Generalize by induction to prove that parentheses are not needed in expressions of any length.
\end{problem}

\begin{problem}{groups:powers}
For any element \(a\) of a group \(G\), define \(a^0\) to mean \(1\), and define by induction \(a^{n+1}=aa^n\).
Prove by induction that \(a^ma^n=a^{m+n}\) for an integers \(m,n\).
\end{problem}

\begin{problem}{groups:id.unique}
Suppose that \(1,1'\) are two elements of a group \(G\), and that \(a1=1a=a\) and also that \(a1'=1'a=a\) for any element \(a\) of the group \(G)\).
Prove that \(1=1'\).
\end{problem}

\begin{problem}{groups:cancel}
Given elements \(a, b\) of a group \(G\), prove that the equation \(ax=b\) has a unique solution \(x\) in \(G\).
Prove also that the equation \(ya=b\) has a unique solution \(y\) in \(G\).
\end{problem}

\begin{problem}{groups:inverse.order}
Prove that \((ab)^{-1}=b^{-1}a^{-1}\) for any elements \(a,b\) of any group.
\end{problem}

\begin{problem}{groups:idempt}
Suppose that \(x\) belongs to a group \(G\) and that \(x^2=x\).
Prove that \(x=1\).
\end{problem}

\begin{problem}{groups:rats.divide}
Prove that the set of nonzero rational numbers, with product operation defined as usual division, do not form a group.
(It might help to write the operation is some funny notation like \(a \star b\), instead of \(ab\), which easily gets confused with multiplication.)
\end{problem}



\section{Additive notation}
When a group is abelian, it is often preferred to write the group operation not as \(ab\) but instead as \(a+b\), and the identity element as \(0\) rather than \(1\), and the inverse as \(-a\) rather than \(a^{-1}\).

\begin{example}
The set of integers form an abelian group, where the group operation is usual addition.
\end{example}
\begin{example}
Any field is an abelian  group, where the group operation is usual addition.
\end{example}
\begin{example}
The set of \(2 \times 2\) matrices, with integer entries form an abelian  group, where the group operation is usual addition.
The same for rational entries, real entries, complex entries, entries drawn from any field, and for \(2 \times 3\) matrices, and so on.
\end{example}
\begin{example}
The rotations of the plane around the origin form an abelian group, writing each rotation in terms of its angle of rotation, and using addition of angles, i.e. composition of rotations, as the group operation.
(Careful: the rotations of Euclidean 3-dimensional space form a non-abelian group.)
\end{example}


\begin{problem}{groups:tgt}
Define an operation on real numbers \(b,c\) by
\[
b \star c = \frac{b+c}{1-bc}.
\]
With this operation, are the real numbers an abelian group?
Consider the collection consisting of all numbers of the form \(b=\frac{3p}{q}\) with \(p, q\) integers so that \(3\) does not divide \(q\).
Is this collection of numbers a group under this operation?
\end{problem}

\begin{problem*}{groups:polynomial.group}
Suppose that we turn the real numbers \(\R{}\) into a group using some weird multiplication, say \(x*y=p(x,y)\) and with some identity element \(x_0\).
Suppose that \(p(x,y)\) is a polynomial.
Prove that \(p(x,y)\) is given by the formula \(p(x+x_0,y+x_0)=x+y+x_0\).
\end{problem*}
\begin{answer}{groups:polynomial.group}
Suppose first that \(x_0=0\).
For any \(y \in \R{}\), let \(p_y\) be the polynomial \(p(x,y)\). 
Let \(y'\) be the inverse of \(y\) in the group.
Then \(p_y \circ p_{y'}(x) = x\), so that \(\degree{p_y} \degree{p_{y'}} = 1\). 
So \(p(x,y)\) has degree \(1\) in \(x\), and by the same argument has degree 1 in \(y\).
So \(p(x,y)=a+bx+cy+dxy\) for some numbers \(a,b,c,d\). 
Since \(p(x,0)=x\) and \(p(0,y)=y\), \(a=0\) and \(b=c=1\). 

If \(d\ne 0\), then pick \(x_0\) to be the unique solution to \(1+dx=0\), i.e. \(x_0\defeq-1/d\).
Let \(x_0'\) be the inverse of \(x_0\) in the group.
The map taking \(y\) to \(x_0*y = p(x_0,y)\) has inverse map \(y \mapsto x_0'*y\), so is a bijection.
But
\begin{align*}
x_0*y&=p(x_0,y),\\
&=x_0+y+dx_0y,\\
&=x_0+y(1+dx_0),\\
&=x+0,
\end{align*}
is constant, not a bijection, a contradiction, so \(d=0\), i.e. \(p(x,y)=x+y\).

If the identity element is \(x_0\) instead, then the operation \(x\otimes y=p(x+x_0,y+x_0)-x_0\) is a new group operation with identity element \(0\), so \(p(x+x_0,y+y_0)=x+y+x_0\).
\end{answer}


Sage knows many finite groups, and can say whether they are abelian:
\begin{sageblock}
H = SymmetricGroup(6)
H.is_abelian()
\end{sageblock}
yields \(\sage{H.is_abelian()}\).

\section{Multiplication tables}
If a group \(G\) is finite (i.e. has finitely many elements), we let \(|G|\)\Notation{.G.}{\orderForNotationIndex{G}}{order of group} be the number of elements of \(G\), called the \emph{order}\define{order} of \(G\).
We can then write a \emph{multiplication table}\define{multiplication table}, with rows representing some element \(x\), columns some element \(y\), and entries \(xy\)
For example, if a group \(G\) has 2 elements, say \(1\) and \(a\), then it is easy to see that \(a^2=1\) so the multiplication table must be
\[
\begin{array}{c|cc}
  &  1 & a \\ \hline
1 &  1 & a \\
a &  a & 1
\end{array}
\]

\begin{problem}{groups:permuty}
Prove that, for any group, on every row of its multiplication table, every element of the group occurs exactly once.
Prove the same for columns instead of rows.
\end{problem}
\begin{problem}{groups:order.three}
Prove that any group \(G\) of order 3 has (in some labelled of its elements) the multiplication table
\[
\begin{array}{c|ccc}
  &  1 & a & b \\ \hline
1 &  1 & a & b \\
a &  a & b & 1 \\
b &  b & 1 & a
\end{array}
\]
\end{problem}

If \(G\) and \(H\) are two groups, their \emph{product}\define{product} is the group \(G \times H\) whose elements are pairs \((g,h)\) of elements \(g\) of \(G\) and \(h\) of \(H\), with product
\[
(g_1,h_1)(g_2,h_2)=(g_1g_2,h_1h_2)
\]
and identity element \((1,1)\).
Given a multiplication table for \(G\) and one for \(H\), we can make one for \(G \times H\) by taking each row \(a\) and column \(b\) entry \(ab\) for \(G\), and each row \(x\) and column \(y\) entry \(xy\) for \(H\), and writing out \((a,x)\) as a row for \(G \times H\), \((b,y)\) as a row for \(G \times H\), and \((ab,xy)\) as entry.
For example, if \(G=H\) are both the group of order 2 above, then \(G \times H\) has multiplication table:
\[
\begin{array}{c|cccc}
      &     1 & (a,1) & (1,a) & (a,a) \\ \hline
    1 &     1 & (a,1) & (1,a) & (a,a) \\
(a,1) & (a,1) &     1 & (a,a) & (1,a) \\
(1,a) & (1,a) & (a,a) &     1 & (a,1) \\
(a,a) & (a,a) & (1,a) & (a,1) &     1
\end{array}
\]

An \emph{isomorphism}\define{isomorphism!of groups}\define{group!isomorphism} \(\phi \colon G \to H\) is a bijection between elements of two groups \(G\) and \(H\) so that \(\phi(xy)=\phi(x)\phi(y)\): \(\phi\) preserves multiplication.
If there is some isomorphism between two groups, they are \emph{isomorphic}, and for all purposes of algebra we can treat them as being the same group.

\begin{example}
In problem~\vref{problem:groups:order.three}, we saw that all groups of order 3 are isomorphic.
\end{example}
\begin{example}
The remainders modulo \(4\) form a group \(G_1\), under addition as the group operation.
The set of complex numbers \(G_2=\set{1,-1,i,-i}\) form a group under multiplication.
\end{example}
\begin{example}
The matrices
\[
\begin{pmatrix}
1 & 0 \\
0 & 1
\end{pmatrix},
\begin{pmatrix}
0 & 1 \\
-1 & 0
\end{pmatrix},
\begin{pmatrix}
-1 & 0 \\
0 & -1
\end{pmatrix},
\begin{pmatrix}
0 & -1 \\
1 & 0
\end{pmatrix}
\] 
form a group \(G_3\) under multiplication.
All of these groups are isomorphic.
For example, map \(0 \mapsto 1\), \(1 \mapsto i\), \(2 \mapsto -1\), \(3 \mapsto -i\) to map \(G_1 \to G_2\).
\end{example}
\begin{example}
Let \(G\) be the group of order \(2\) we found above and \(H\) the group of remainders modulo 4.
The groups \(G \times G\) and \(H\) are both of order \(4\), but they are \emph{not} isomorphic, because \(H\) contains the element \(1\) and every element of \(H\) is expressed in terms of \(1\) as precisely one of the 4 elements
\[
1,\ 1+1,\ 1+1+1,\ 1+1+1+1.
\]
So if \(G\) (in multiplication notation!) were isomorphic to \(H\), we would have to find some element \((x,y)\) of \(G\) so that the 4 elements 
\[
(x,y),(x,y)^2,(x,y)^3,(x,y)^4
\] 
constitute the whole of \(G\).
Check the multiplication table above to see that every \((x,y)\) in \(G\) satisfies \((x,y)^2=(1,1)\).
\end{example}
\begin{problem}{groups:order.four}
How many groups of order four are there, up to isomorphism?
\end{problem}
\begin{answer}{groups:order.four}
\tikzstyle{multtable}=[draw=gray!30,very thick,rounded corners]
\newcommand{\mtbl}[5]{
\begin{array}{c|cccc}
#1 \\ \hline
#2 \\
#3 \\
#4 \\
#5
\end{array}
}

\newcommand{\tbl}[5]{$\mtbl{#1}{#2}{#3}{#4}{#5}$}

We start only knowing that \(1a=a\), and so on:
\[
\begin{tikzpicture}
\node[multtable] at (0,0) {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a &   &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }};
\end{tikzpicture}
\]
In the first blank, entry, we have to put \(1,a,b\) or \(c\); we are choosing the value of \(a^2\).
If you pick \(b\) and I pick \(c\), we could just swap the letters \(b\) and \(c\) in the alphabet to get your choice to agree with mine.
If we pick \(a^2=a\) then cancel an \(a\) from both sides to get \(a=1\), not possible since our group has 4 distinct elements.
So \(a^2=1, b\) or \(c\), and swap letters to get \(a^2=1\) or \(b\):
\[
\begin{tikzpicture}[sibling distance=4cm,level distance=3cm]
\node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a &   &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}
[edge from parent fork down]
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}}
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & b &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}};
\end{tikzpicture}
\]
Since every element of the group occurs exactly once in each row and column, in the left hand table, the next element across is \(b\) or \(c\).
But there is already a \(b\) in the column, so \(c\), forcing the next entry to be \(b\).
In the right hand table, the next element is either \(1\) or \(c\).
But we have a \(c\) in the final column, so 
\[
\begin{tikzpicture}[sibling distance=4cm,level distance=3cm]
\node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a &   &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}
[edge from parent fork down]
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b &   &   &  }
{c &  c &   &   &  }}}
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & b & c & 1}
{b &  b &   &   &  }
{c &  c &   &   &  }}
};
\end{tikzpicture}
\]
Going down the 2nd columns, we have (in the left hand table) already used \(a,1\), and in the 3rd row we already have a \(b\), so \(c\), and then \(b\).
Similarly (in the right hand table), in the 2nd column, we have already used \(a,b\), and we have a \(c\) in the last row, so we must use \(1\) in the 2nd column, last row, and so a \(c\) above that.
\[
\begin{tikzpicture}[sibling distance=4cm,level distance=3cm]
\node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a &   &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}
[edge from parent fork down]
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b & c &   &  }
{c &  c & b &   &  }}}
child {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & b & c & 1}
{b &  b & c &   &  }
{c &  c & 1 &   &  }}
};
\end{tikzpicture}
\]
On the left hand table, we can next pick a \(1\) or \(a\), b
On the right hand, either a \(1\) or an \(a\), but we have a \(1\) in the last row, so we can't put another \(1\) in that row, so must be \(1,a\):
\[
\begin{tikzpicture}[sibling distance=1cm,level distance=5cm]
\node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a &   &   &  }
{b &  b &   &   &  }
{c &  c &   &   &  }}
[edge from parent fork down]
child[sibling distance=6cm,level distance=3cm] {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b & c &   &  }
{c &  c & b &   &  }}
[edge from parent fork down]
child[sibling distance=3cm,level distance=3cm] {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b & c & 1 & a}
{c &  c & b & a & 1}}
}
child[sibling distance=3cm,level distance=3cm] {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b & c & a & 1}
{c &  c & b & 1 & a}}
}}
child[sibling distance=6cm,level distance=3cm] {node[multtable] {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & b & c & 1}
{b &  b & c & 1 & a}
{c &  c & 1 & a & b}}
};
\end{tikzpicture}
\]
If we swap the letters \(a,b\), we find the second and third tables become the same, so drop the second one:
\[
\begin{tikzpicture}
\node[multtable] at (0,0) {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & 1 & c & b}
{b &  b & c & a & 1}
{c &  c & b & 1 & a}};
\end{tikzpicture}
\qquad
\begin{tikzpicture}
\node[multtable] at (0,0) {\tbl%
{  &  1 & a & b & c}
{1 &  1 & a & b & c}
{a &  a & b & c & 1}
{b &  b & c & 1 & a}
{c &  c & 1 & a & b}};
\end{tikzpicture}
\]
One then has to check that these are in fact groups, as they both turn out to be.
\end{answer}

Sage knows the multiplication tables of many groups.
The \emph{dihedral group}\define{dihedral group} \(D_n\)\Notation{Dn}{D_n}{the dihedral group} is the symmetry group of a regular polygon with \(n\) equal sides and angles.
If we type
\begin{sageblock}
H = DihedralGroup(6)
H.cayley_table()
\end{sageblock}
we see the multiplication table:
\[
{\setlength{\arraycolsep}{2ex}
\begin{array}{r|*{12}{r}}
\multicolumn{1}{c|}{\cdot}&a&b&c&d&e&f&g&h&i&j&k&l\\\hline
{}a&a&b&c&d&e&f&g&h&i&j&k&l\\
{}b&b&a&e&h&c&j&k&d&l&f&g&i\\
{}c&c&d&f&g&b&i&l&a&k&e&h&j\\
{}d&d&c&b&a&f&e&h&g&j&i&l&k\\
{}e&e&h&j&k&a&l&i&b&g&c&d&f\\
{}f&f&g&i&l&d&k&j&c&h&b&a&e\\
{}g&g&f&d&c&i&b&a&l&e&k&j&h\\
{}h&h&e&a&b&j&c&d&k&f&l&i&g\\
{}i&i&l&k&j&g&h&e&f&a&d&c&b\\
{}j&j&k&l&i&h&g&f&e&d&a&b&c\\
{}k&k&j&h&e&l&a&b&i&c&g&f&d\\
{}l&l&i&g&f&k&d&c&j&b&h&e&a\\
\end{array}}
\]
where \(a\) is the identity element.


\section{Cyclic groups}

A group \(G\) is \emph{cyclic}\define{cyclic} if it consists of the powers of a single element \(x\), i.e. \(G\) consists of the powers \(x^n\) for integers \(n\).
For example, the integers (written additively) are generated by multiplies of \(1\), as is the group of remainders modulo some integer \(n \ge 0\).

\begin{theorem}\label{theorem:cyclic.groups}
Every cyclic group \(G\) is isomorphic to either the integers (when \(|G|=\infty\)) or to the integers modulo an integer \(n \ge 0\), when \(|G|=n\).
\end{theorem}
\begin{proof}
Suppose that \(G\) consists of the powers \(x^k\) of a single element \(x\).
Define a map \(f \colon \Z{} \to G\) by \(f(k)=x^k\).
Then clearly \(f(k+\ell)=x^{k+\ell}=x^kx^{\ell}=f(k)f(\ell)\).
If \(f\) is a bijection, then \(f\) is our isomorphism.
So suppose that \(f\) is not a bijection.
By definition, \(f\) is surjective, so \(f\) must fail to be injective, i.e. \(f(k)=f(\ell)\) for some \(k\ne \ell\), i.e. \(x^k=x^{\ell}\), i.e. \(x^{k-\ell}=0\) i.e. \(f(k-\ell)=1\).
Let \(K \subset \Z{}\) be the set of all integers \(m\) so that \(f(m)=1\).
Note that \(K\) contains zero, and \(K\) also contains some nonzero element \(k-\ell\).
If \(m\) is in \(K\) then \(x^m=1\) so \(x^{2m}=1\) and so on, i.e. if \(m\) is in \(K\) then all multiples of \(m\) are in \(K\).
If \(K\) contains some integers \(b,c\), take B\'ezout coefficients \(sb+tc=g\) and then
\[
f(g)=f(sb+tc)=x^{sb+tc}=(x^b)^s(x^c)^t=1^s1^t=1.
\]
Hence \(g\) is in \(K\) as well: the greatest common divisor \(n\) of all elements of \(K\) also lies in \(K\).
But then every multiple of \(n\) also lies in \(K\).
Hence \(K\) consists precisely of all multiples of \(n\), i.e. \(K=n\Z{}\), and so \(G=\set{1,x,\dots,x^{n-1}}\) is  isomorphic to the remainders modulo \(n\), taking each remainder \(b\) to \(x^b\).
\end{proof}

The \emph{order}\define{order!group element} of an element \(a\) of a group \(G\) is the order of the cyclic group consisting of the powers \(a^k\).
\begin{problem}{groups:order.comm}
Take any two elements \(a,b\) of some group.
Prove that \(ab\) and \(ba\) have the same order.
\end{problem}
\begin{problem}{groups:order.two.comm}
Take any two elements \(a,b\) of order two in some group.
If \(ab\) also has order two, prove that \(a\) and \(b\) commute.
\end{problem}
\begin{problem}{groups:order.disjoint}
Take a permutation \(f\) of \(n\) letters \(1,2,\dots,n\), expressed as a product of disjoint cycles.
Prove that the order of \(f\) is the least common multiple of the orders of the disjoint cycles.
\end{problem}
\begin{problem}{groups:cyclic.subgroups}
Prove that every subgroup of a cyclic group is cyclic.
\end{problem}
\begin{answer}{groups:cyclic.subgroups}
Take a subgroup \(H\) of a cyclic group \(G\).
Suppose that \(G\) is generated by an element \(x\), i.e. consists of the integer powers of \(x\).
The elements of \(H\) consist only of certain powers of \(x\); let \(S \subset \Z{}\) be the set of integers \(k\) so that \(x^k\) belongs to \(H\).
Clearly \(x^kx^{\ell}=x^{k+\ell}\) and \((x^k)^{-1}=x^{-k}\), and \(1=x^0\), so \(S\) is a subgroup of \(\Z{}\) under addition.
If \(S=\set{0}\), clearly \(H=\set{1} \subset G\) is cyclic.
But if \(S\ne\set{0}\), then \(S\) contains a least positive element, say \(n\).
Then \(S\) contains all integer multiples of \(n\).
If \(S\) contains some integer \(k\), then \(S\) contains \(uk+vn\) for any integers \(u,v\), and in particular (if \(u,v\) are the B\'ezout coefficients of \(k,n\)), \(S\) contains the greatest common divisor of \(k,n\), which is at most as large as \(n\).
But \(n\) is the smallest positive integer in \(S\), so that greatest common divisor of \(k,n\) is \(n\), i.e. \(n\) divides \(k\).
So \(n\) divides all elements of \(S\): \(S\) is the set of all integer multiples of \(n\), and so \(H\) is generated by \(x^n\), so cyclic.
\end{answer}
\begin{problem}{groups:cyclic.subgroups.2}
What are all subgroups of the group \(\Z{}/102\Z{}\) of integer remainders modulo 102?
\end{problem}
Sage can compute the order of an element of a group:
\begin{sageblock}
G = SymmetricGroup(5)
sigma = G("(1,3) (2,5,4)")
sigma.order()
\end{sageblock}
yields \(\sage{sigma.order()}\).

\section{Graphs}
\begin{example}
Take a hexagon \(X\) in the plane and let \(G\) be its symmetry group.
Label the vertices of \(X\) in order as we travel around the vertices counterclockwise, say as \(1,2,3,4,5,6\).
\begin{center}
\input{hexagon}
\end{center}
Any symmetry moves \(1\) to one of the six vertices, and moves \(2\) to a next door neighbor vertex.
We can draw the vertices of the hexagon twice, one for drawing where \(1\) is taken to, and once again to represent whether \(2\) is taken to the vertex counterclockwise from \(1\) or clockwise.
\begin{center}
\input{hexagon-2}
\end{center}
In a sense, this is a picture of the group, since every element of the group is completely determined once we know where vertices \(1\) and \(2\) go: the rest are then in order cyclically around the hexagon.
Let \(b\) be rotation of the hexagon by \(60\si{\degree}\), and let \(c\) be reflection of the hexagon across the axis of symmetry through vertex \(1\).
Label the elements of the group according to how they move vertices \(1\) and \(2\), i.e. how much of \(b\) and \(c\) they contain:
\begin{center}
\input{hexagon-3}
\end{center}
Multiplication of each element by \(b\) on the left, i.e. \(x \mapsto bx\), spins the hexagon around to right.
\begin{center}
\input{hexagon-5}
\end{center}
Multiplication of each element by \(c\) on the right, i.e. \(x \mapsto xc\), moves the inward hexagon points to the outward ones, and vice versa.
\end{example}

Elements \(g, h, \dots\) of a group \(G\) \emph{generate}\define{generators} that group if every element can be written as a product of integer powers of those elements.
If we fix some elements generating a group \(G\), the \emph{Cayley graph}\define{Cayley graph} of \(G\) (with respect to those generators) is the set of elements of \(G\), each draw as a dot, together with an arrow from one dot to another, labelled by \(g\), if the first dot is some element \(k\) and the second is \(gk\) (or \(kg\), depending on which ordering we prefer).
These pictures are almost never useful in proving results about groups, but they give us some intuition.


Sage knows the Cayley graphs (for various generators) of many groups.
If we type
\begin{sageblock}
H = DihedralGroup(6)
show(H.cayley_graph())
\end{sageblock}
we see the graph:
\begin{center}
\includegraphics[width=5cm]{cayley-graph-d6.png}
\end{center}
The graph is labelled by the cycles of each element, thought of as a permutation of the vertices of the hexagon.

\begin{theorem}[Cayley]\SubIndex{Cayley, Arthur}
Every group is a group of permutations.
\end{theorem}
\begin{proof}
We drew the graph of the group above; now imagine more simply just drawing a dot for each element.
Each element \(g\) of the group then moves each dot \(k\) to \(gk\), permuting the dots.
\end{proof}

\section{Subgroups}

A subset \(H\) of a group \(G\) is a \emph{subgroup}\define{subgroup} if
\begin{enumerate}
\item
\(H\) contains the identity element and
\item
if \(a\) and \(b\) are elements of \(H\) then \(ab\) is also an element of \(H\), 
\item
if \(b\) is an element of \(H\) then \(b^{-1}\) is also an element of \(H\).
\end{enumerate}

It follows that \(H\) is itself a group.

\begin{example}
The even numbers are a subgroup of the integers, under usual integer addition.
\end{example}
\begin{example}
The invertible integer \(2 \times 2\) matrices are a subgroup of the invertible real \(2 \times 2\) matrices.
\end{example}
\begin{example}
If \(b\) is an element of any group \(G\), then the set of all elements of \(G\) of the form \(b^k\) for integers \(k\) is a cyclic group, the subgroup generated by \(b\).
\end{example}
\begin{example}
The real \(2 \times 2\) matrices of unit determinant form a subgroup of the group of all invertible real \(2 \times 2\) matrices, since determinants multiply.
\end{example}
\begin{problem}{groups:hexagon.subgroups}
What are all of the subgroups of the symmetry group of a hexagon?
\end{problem}

\section{Cosets}

If \(S\) is any subset of a group \(G\) and \(b\) is any element of \(G\), denote by \(bS\) the set of elements of the form \(bs\) for \(s\) in \(S\), called a \emph{left translate}\define{left translate} or \emph{left coset}\define{left coset} of \(S\); if we write \emph{coset}, we mean \emph{left coset}.
Denote by \(Sb\) the set of elements of the form \(sb\) for \(s\) in \(S\), called a \emph{right translate}\define{right translate} or \emph{right coset}\define{right coset} of \(S\).
Each coset \(bS\) has the same number of elements as \(S\), since \(s \mapsto bs\) has inverse \(t \mapsto b^{-1}t\), so is a bijection.

\begin{example}
The group \(G\) of symmetries of the hexagon has a subgroup \(H\) of rotations of the hexagon.
Divide up \(G\) into \(H\)-cosets:
\begin{center}
\input{hexagon-4}
\end{center}
\end{example}
\begin{example}
We might draw our cosets as columns of a matrix
\begin{center}
\input{cosets}
\end{center}
to emphasize that they are all the same size, each a copy of \(H\).
\end{example}
\begin{example}
Let \(G\) be the group of rotations and \(H\) the subgroup of those rotations which preserve a regular hexagon \(X\) around the origin.
For each angle \(\theta\), which we think of as a rotation \(g\), \(gH\) is the set of all rotations \(gh\) for \(h \in H\), i.e. geometrically the rotations which take the given hexagon \(X\) into the hexagon \(gX\).
\end{example}
\begin{example}
Let \(G\) be the group of integers under addition, and \(H\) the subgroup of multiples of \(7\), i.e. \(H\) is the set of all integers of the form \(7k\) for any integer \(k\).
Our translates in this notation have the form \(1+H, 2+H\), and so on.
The translate \(1+H\) is the set of all numbers of the form \(1+7k\) for any integer \(k\).
The translate \(2+H\) is the set of all numbers of the form \(2+7k\) for any integer \(k\), and so on.
\end{example}

\begin{lemma}\label{lemma:coset.id}
If \(x\) and \(y\) are elements of a group \(G\) and \(H\) is a subgroup of \(G\), then \(xH=yH\) just when \(y^{-1}x\) belongs to \(H\).
Any two cosets \(xH\) and \(yH\) are either disjoint: \(xH \cap yH\) empty, or equal: \(xH=yH\).
\end{lemma}
\begin{proof}
Suppose that \(xH=yH\).
Then every element \(xh\) of \(xH\) must belong to \(yH\), i.e. have the form \(yh'\) for some element \(h'\) of \(H\), so \(xh=yh'\), i.e. \(x=yh'h^{-1}\), and so \(y^{-1}x=h'h^{-1}\) is in \(H\).

Conversely, if \(y^{-1}x\) is in \(H\), then every element \(xh\) of \(xH\) has the form
\begin{align*}
xh
&=
(yy^{-1})xh, \\
&=
y(y^{-1}xh),
\\
&= yh'
\end{align*}
where \(h' = y^{-1}xh\) is in \(H\).
Similarly, every element \(yh\) of \(yH\) has the form
\begin{align*}
yh
&=
(xx^{-1})xh, \\
&=
x(x^{-1}yh),
\\
&= xh'
\end{align*}
where \(h' = x^{-1}yh = (y^{-1}x)^{-1}h\) is in \(H\).

If \(xH\) intersects \(yH\), say at \(xh=yh'\), then \(y^{-1}xh=h'\) lies in \(H\) so \(y^{-1}x\) lies in \(H\), i.e. \(xH=yH\).
\end{proof}


If \(H\) is a subgroup of a group \(G\), we let \(G/H\) be the collection of all cosets of \(H\) in \(G\).

\begin{example}
The group \(G\) of symmetries of the hexagon has a subgroup \(H\) of rotations of the hexagon.
If we  draw each coset as a column, we draw each point of \(G/H\) as a single dot underneath that column:
\begin{center}
\input{cosets-2}
\end{center}
\end{example}
\begin{example}
Let \(G\) be the group of all rotations of the plane and \(H\) the subgroup of those rotations which preserve a regular hexagon \(X\) around the origin.
For each angle \(\theta\), which we think of as a rotation \(g\), \(gH\) is the set of all rotations \(gh\) for \(h \in H\), i.e. geometrically the rotations which take the given hexagon \(X\) into the hexagon \(gX\).
So each coset \(gH\) in \(G/H\) is identified with a rotated hexagon \(gX\), i.e. \(G/H\) is the set of all rotated hexagons \(gX\) for any rotation \(g\).
\end{example}
\begin{example}
Let \(G\) be the group of integers under addition, and \(H\) the subgroup of multiples of \(7\), i.e. \(H\) is the set of all integers of the form \(7k\) for any integer \(k\).
Our translates in this notation have the form \(1+H, 2+H\), and so on.
The translate \(1+H\) is the set of all numbers of the form \(1+7k\) for any integer \(k\), which we denote by \(\bar{1}\).
The translate \(2+H\) is the set of all numbers of the form \(2+7k\) for any integer \(k\), which we denote by \(\bar{2}\), and so on.
Of course, \(\bar{7}=\bar{0}\) is the coset of \(H\).
So \(G/H\) is the set of remainders modulo \(7\).
Each element of \(G/H\) represents ``gluing together'' all elements of \(G\) that differ by a multiple of \(H\).
\end{example}

\begin{theorem}[Lagrange]\SubIndex{Lagrange, Joseph-Louis}
If \(H\) is a finite subgroup of a group \(G\) then
\[
|G/H|=\frac{|G|}{|H|}.
\]
\end{theorem}
\begin{proof}
The set \(G\) is divided up into disjoint cosets, each of size \(|H|\).
\end{proof}


\begin{corollary}
The order of any finite subgroup of a group divides the order of the group.
\end{corollary}

\begin{corollary}
The order of any element of a group divides the order of the group.
\end{corollary}

\begin{corollary}
Every finite group of prime order, say order \(p\), is cyclic, isomorphic to the group of remainders modulo \(p\) under addition.
\end{corollary}
\begin{proof}
Take any element which is not the identity element, so cannot have order 1.
Since \(G\) is finite, the order of the element is finite.
Since \(|G|\) is prime, the order of the element divides this prime, so equals this prime.
\end{proof}



\section{Actions}
A group \(G\) \emph{acts} on a set \(X\) if each element \(b\) of \(G\) has an associated transformation \(f_g\) of \(X\)  so that \(f_{bc} = f_b \circ f_c\) for any elements \(b, c\) of \(G\).
So then \(G\) is a transformation group of \(X\), and write \(gx\) to mean \(f_g(x)\).
The action is \emph{transitive} if any two points \(p, q\) of \(X\) are connected by some element of \(G\), i.e. \(q=gp\) for some \(g\) in \(G\).
The \emph{stabilizer} of a point \(x_0\) of \(X\) is the subset \(G^{x_0}\) of \(G\) consisting of those \(g\) in \(G\) so that \(gx_0=x_0\).
If a group \(G\) acts on two sets \(X\) and \(Y\), a map \(f \colon X \to Y\) is \emph{equivariant} if \(f(gx)=gf(x)\) for any \(x\) in \(X\) and \(g\) in \(G\).
An equivariant bijection makes two actions practically identical.
\begin{lemma}
Given a group action of a group \(G\) on a set \(X\), and an element \(x_0\) of \(X\), the stabilizer \(G^{x_0}\) of each point is a subgroup.
\end{lemma}
\begin{proof}
Clearly if \(bx_0=x_0\) and \(cx_0=x_0\) then \((bc)x_0=b(cx_0)=bx_0=x_0\) and so on.
\end{proof}
Subgroups correspond to transitive actions; geometrically it is always easier to think about actions, but algebraically it is easier to work with subgroups.
\begin{theorem}
If \(H\) is a subgroup of a group \(G\), and we let \(X=G/H\), then \(G\) acts on \(X\) transitively by \(b(cH)=(bc)H\) with stabilizer \(G^{x_0}=H\) where \(x_0\) is the coset \(1H\).
Conversely, if \(G\) acts transitively on a set \(X\), and we let \(H=G^{x_0}\), there is a unique equivariant bijection
\(
f \colon G/H \to X,
\)
so that \(f(gH)=gx_0\).
\end{theorem}
\begin{proof}
Clearly \(b(cH)=(bc)H\) is the set of elements of \(G\) of the form \(bch\) for \(h\) in \(H\).
Hence the action of \(G\) on \(G/H\) is defined.

Take any element \(gH\) of \(G/H\).
So \(gH\) is a coset.
By lemma~\vref{lemma:coset.id}, knowing only the coset \(gH\), we can determine the element \(g\), up to replacing \(g\) by \(gh\) for any \(h \in H\).
But then the expression \(gx_0\) will only change to \((gh)x_0=g(hx_0)=gx_0\), i.e. not at all.
So knowledge of the coset \(gH\) determines knowledge of \(gx_0\), i.e. \(f\) is well defined.
It is then easy to check that \(f\) is equivariant.
Since \(G\) acts transitively on \(X\), every element \(x\) of \(X\) has the form \(x=gx_0\) for some \(g\), \(f\) is surjective.
If \(f(bH)=f(cH)\) then \(bx_0=cx_0\) so \(c^{-1}bx_0 = x_0\) i.e. \(c^{-1} b\) lies in \(G^{x_0}\).
But \(H\) is by definition \(G^{x_0}\), so \(c^{-1}b\) lies in \(H\), i.e. \(bH=cH\), so \(f\) is injective.
\end{proof}
\begin{example}
Take 49 seats, numbered, and 15 people standing, each with name tags.
Sit all 15 of those people.
Keep track of who sits where.
So the group \(G\) of permutations of \(49\) seats acts on the possible seating plans of the \(49\) people, taking any seating plan to any other.
But the seating plan of the 15 people (who sits where) doesn't change if we move around the empty seats: \(49-15=34\) seats.
So the group \(H\) of permutations of \(34\) empty seats acts trivially on any given seating plan \(x_0\).
So the set \(X\) of seating plans of \(15\) people into \(49\) chairs is \(X=G/H\), and so has order \(49!/34!\).
\end{example}
\begin{problem}{groups:combos}
Explain how to count combinations, and how to count permutations, using group actions.
\end{problem}
Take a group \(G\) acting on a set \(X\).
The \emph{orbit}\define{orbit} \(Gx\) of an element \(x\) of \(X\) is the set of all elements of \(X\) of the form \(gx\) for \(g\) in \(G\): it is where \(G\) takes \(x\).
Every orbit is, by definition, acted on transitively by \(G\), so the map \(G/G^x \to Gx\) taking \(gG^x \mapsto gx\) is an equivariant bijection.
Denote the set of all orbits as \(X/G\).
\begin{problem}{groups:orbits.square}
If \(X\) is a hexagon in the plane, and \(G\) is the symmetry group of \(X\), what are all of the orbits of \(G\)?
\end{problem}
A \emph{fixed point}\define{fixed point} of a group \(G\) acting on a set \(X\) is a point \(x\) fixed by all elements of \(G\), i.e. \(gx=x\) for any \(g\) in \(G\).
\begin{problem}{groups:fixed.point}
If a finite group \(G\) acts on a finite set \(X\), and the order of \(X\) is coprime to the order of \(G\), prove that \(X\) contains a fixed point of the \(G\)-action.
\end{problem}
\begin{theorem}[Burnside]
Suppose that a finite group \(G\) acts on a finite set \(X\).
To each element \(g\) of \(G\), let \(X^g\) be the set of elements of \(X\) fixed by \(g\).
Write the number of elements of any set \(S\) as \(|S|\).
Then the number of orbits is the average number of fixed points of group elements:
\[
|X/G|
=
\frac{\sum_{g \in G} |X^g|}{|G|}.
\]
\end{theorem}
\begin{proof}
Let \(S\) be the set of pairs \((g,x)\) with \(g\) in \(G\), \(x\) in \(X\), and \(gx=x\).
Count the elements of \(S\) two ways: first by summing over all possible values of \(g\):
\[
|S|=\sum_{g \in G}|X^g|,
\]
and second by summing over all possible values of \(x\) instead:
\[
|S|=\sum_{x \in X} |G^x| = \sum_{x \in X} \frac{|G|}{|Gx|}.
\]
But if \(x\) and \(y\) belong to the same orbit, say \(o=Gx=Gy\), they have the same value of \(|o|=|Gx|=|Gy|\).
There are \(|o|\) elements \(x\) in that orbit, so we write this as
\begin{align*}
|S|
&=\sum_{x \in X} \frac{|G|}{|Gx|},
\\
&=\sum_{o \in X/G} \sum_{x \in o} \frac{|G|}{|Gx|},
\\
&=\sum_{o \in X/G} \sum_{x \in o} \frac{|G|}{|o|},
\\
&=\sum_{o \in X/G} \frac{|G|}{|o|} \sum_{x \in o} 1,
\\
&=\sum_{o \in X/G} \frac{|G|}{|o|} |o|,
\\
&=|G| \sum_{o \in X/G} 1,
\\
&=|G| |X/G|.
\end{align*}
\end{proof}
\begin{theorem}
Suppose that a finite group \(G\) acts on a finite set \(X\).
Each element \(g\) of \(G\) acts as a permutation on \(X\), say with \(c_g\) cycles.
Suppose we pick \(n\) different colours and try to paint \(X\) with those colours, but we declare two colourings to be equivalent if they agree after the action of some element of \(G\).
Then the number of distinct colourings is
\[
\frac{1}{|G|} \sum_{g \in G} n^{c_g}.
\]
\end{theorem}
\begin{proof}
Let \(C\) be the set of all colourings of \(X\) into \(n\) colours, i.e. the set of maps \(X \to \set{1,2,\dots,n}\).
Each \(G\)-orbit in \(C\) is one colouring of \(X\) up to equivalence.
Let \(C'\) be the set of pairs \((c,g)\) where \(c \in C\) is a colouring and \(g \in G\) is an element preserving that colouring.
On \(C'\), we have the action \(g_0(c,g)=(g_0c,g_0g)\) for any \(g_0 \in G\).
So \(\phi\colon (c,g) \in C' \mapsto c \in C\) is onto and \(G\)-equivariant.
So \(\phi\) takes \(G\)-orbits to \(G\)-orbits.
But the \(G\)-stabilizer of any point of \(C'\) is trivial, so each \(G\)-orbit in \(C'\) is a copy of \(G/\set{1} \cong G\).
Hence each \(G\)-orbit in \(C\) has preimage with \(|G|\) elements in \(C'\).
Add up over all \(G\)-orbits to find all elements of \(C'\): \(|C'|=|G||C/G|\).

Let \(\psi\colon (c,g) \in C' \mapsto g \in G\).
Again \(\psi\) is \(G\)-equivariant.
Each \(\psi^{-1}g\) is the set of all colourings invariant under \(g\), i.e. with the same colour in all \(g\)-orbits.
There are \(n^{c(g)}\) such colourings:
\[
|C'|=\sum_{g \in G} n^{c(g)}.
\]
Put the two together:
\[
|C/G|=\frac{1}{|G|} \sum_{g \in G} n^{c(g)}.
\]
\end{proof}
\begin{problem}{permutations:cube}
Use the solution of problem~\vref{problem:permutations:cube} to find the number of distinct colourings of a cube (where we declare two colourings equivalent if they agree up to rotation) with 5 colours of paint.
\end{problem}
\begin{answer}{permutations:cube}
We have numbers \(n\) of group elements \(g\) with various numbers \(c_g\) of cycles:
\[
\begin{array}{cc}
\toprule
n & c_g\\
\midrule
1 & 6\\
3 & 4\\
6 & 3\\
8 & 2\\
6 & 3\\
\bottomrule
\end{array}
\]
Hence 
\[
\frac{1}{|G|} \sum_{g \in G} n^{c_g} 
= 
\frac{1}{24} (n^6 + 3n^4 + 6n^3+8n^2+6n^3)=\frac{1}{24}n^2(n+1)(n^3-n^2+4n+8),
\]
so for various values of \(n\):
\[
\begin{array}{cc}
\toprule
n & |C| \\
\midrule
1 & 1\\
2 & 10\\
3 & 57\\
4 & 240\\
5 & 800\\
\bottomrule
\end{array}
\]
\end{answer}


\section{Group presentations}

\begin{example}
The symmetries of an equilateral triangle can all be expressed in terms of the rotation, call it \(b\), by \(120\si{\degree}\), and the reflection, call it \(c\), about any one the axes of symmetry through one of the vertices.
Clearly \(b^3=1\), i.e. if we rotate three times by \(120\si{\degree}\), the resulting rotation by \(360\si{\degree}\) moves every point back where it started.
Similarly \(c^2=1\).
The reader can draw pictures to see that \(bc=cb^2\).
Once we have these three rules, any expression in the group in terms of \(b\) and \(c\) can be successively simplified by these three rules, to an expression in which \(c\) only appears to the first power, i.e. no \(c^2\) or \(c^{-1}\) or \(c^{-13}\) appears, and \(b\) appears only to the power \(1\) or \(2\), and \(b\) always appears after \(c\).
Hence the group is precisely
\[
1,b,c,b^2,cb,cb^2.
\]
\end{example}


Take an abstract set \(X\).
A \emph{word}\define{word} on the \emph{alphabet}\define{alphabet} \(X\) is a finite sequence of choices of element of \(X\) and integer power.
We write each word as a string of symbols
\[
x_1^{a_1} x_2^{a_2} \dots x_k^{a_k}.
\]
We allow the empty string, and write it as \(1\).
\emph{Reduce}\define{reduce} a word by deleting any \(x^0\) symbols and replacing any subword \(x^p x^q\) by \(x^{p+q}\).
The \emph{free group}\define{free!group} \(\pres{X}\) on an alphabet \(X\) is the collection of all reduced words on \(X\).
The multiplication operation: multiply two words by writing down one after the other, called \emph{concatenation}\define{concatentation} and then reduce.
The inverse operation: write down the word in reverse order, with opposite signs for the powers.

Take an abstract set \(X\) with associated free group \(\pres{X}\).
Take a set \(R\) of words in the alphabet \(X\).
The group \emph{generated}\define{generation} by \(X\) with \emph{relations}\define{relation} \(R\), denoted \(\pres{X}[R]\), is the quotient of \(\pres{X}\) by the equivalence relation that two words are equivalent if we can repeatedly insert words from \(R\) or inverses of such, and then delete words from \(R\) or inverses of such, and eventually get from one word to another.
The expression of a group in the form \(\pres{X}[R]\) is a \emph{presentation}\define{presentation} of the group with \emph{generators} \(S\) and \emph{relations} \(R\).
In practice, we usually write the relations not as a set \(R\), but as a collection of equations like
\[
w_1 = w_2
\]
between words.
This equation means that we require \(w_2^{-1} w_1 \in R\).
A presentation \(\pres{X}[R]\) is \emph{finite}\define{finite presentation}\define{presentation!finite} if both \(X\) and \(R\) are finite sets.

\begin{lemma}
For any set \(X\) and set \(R\) of words in \(X\), \(\pres{X}[R]\) is a group.
\end{lemma}
\begin{proof}
We can clearly multiply equivalence classes of words, and invert them.
Associativity and existence of inverses are clear because they hold for words.
\end{proof}

\begin{example}
The two transformations
\[
T \colon (x,y) \mapsto (x,y+1)
\]
and
\[
F \colon (x,y) \mapsto (x+1,-y)
\]
of the plane, a translation and a flip, satisfy \(TFT=F\), and generate some group \(H\), the symmetries of the infinite wallpaper pattern on the infinite plane:
\begin{center}
\input{zigzagcarpet}
\end{center}
Let \(G \defeq \pres{f,t}[tft=f]\); in other words \(G\) is the group generated by alphabet \(\set{t,f}\) with relation \(tft=t\), i.e. with \(R=\set{t^{-1}tft}\).
So we have a surjective map \(G \to H\), mapping \(t \mapsto T\) and \(f \mapsto F\).
Here \(t\) is a formal symbol, not an actual transformation of the plane, while \(T\) is the actual transformation.
Take any word in \(G\).
Wherever we find \(tf\) we replace it by \(ft^{-1}\).
Wherever we find \(t^{-1}f\) we replace it by \(ft\).
Wherever we find \(tf^{-1}\) we replace it by \(f^{-1}t^{-1}\).
Wherever we find \(t^{-1}f^{-1}\) we replace it by \(f^{-1}t\).
The reader can check that these are all consequences of \(tft=f\).
Therefore any word in \(G\) can be written uniquely as \(f^p t^q\).
If the corresponding transformation \(F^p T^q\) is the identity, then it fixes the origin, and so the translations of the \(x\) variable cancel each other out, i.e. \(p=0\).
But then \(T^q(x,y)=(x,y+q)\) fixes the origin just when \(q=0\).
So the only element of \(G\) mapping to the trivial transformation of the plane is \(1\).
We can see that \(G \to H\) is an isomorphism.
\end{example}

\begin{example}
The group \(G\) of symmetries of a hexagon contains a rotation \(b\) by \(1/6\) of a revolution, and a reflection \(c\) through one vertex.
Clearly \(b^6=1\) and \(c^2=1\).
We let the reader check (by drawing a hexagon with labelled vertices and playing with it) that \(bcbc=1\).
So we might guess that \(G\) is equal to the group \(H\defeq \pres{b,c}[1=b^6=c^2=bcbc]\).
Using \(bcbc=1\), we can write this as \(cbc=b^{-1}=b^5\), so \(cb=b^5c\).
Using this rule, any powers of \(b\) and \(c\) can be inductively rewritten so that \(b\) powers always come before \(c\) powers.
For example, \(b^7c^2b^{-3}c^3b^2=b^2b^{-3}cb^2\) since \(c^2=1\).
But then \(b^2b^{-3}cb^2=b^{-1}cb^2\) combining powers of \(b\).
Next, \(b^{-1}cb^2=b^5cb^2\) since \(b^6=1\) so \(b^5=b^{-1}\).
Next, \(cb=b^5c\) so \(b^5cb^2=b^5cbb=b^5b^5cb=b^5b^5b^5c=b^{15}c=b^3c\).
So clearly \(H\) has at most \(12\) elements.
But \(G\) has \(12\) elements, and satisfies the equations of \(H\), so we guess that \(G=H\).
(We will prove this true soon.)
\end{example}

One group may have many presentations.
A \emph{consequence} of relations \(R\) in a presentation \(\pres{X}[R]\) is a word in \(R\).
A \emph{Tietze transformation}\define{Tietze transformation} of a presentation is one of the following:
\begin{enumerate}
\item
\emph{Adding an irrelevant relation} to a presentation \(\pres{X}[R]\) means adding a consequence of \(R\): \(\pres{X}[R,r]\).
\item
Obversely, \emph{removing an irrelevant relation} from a presentation \(\pres{X}[R,r]\) means, if \(r\) is a consequence of \(R\), take it out: \(\pres{X}[R]\).
\item
\emph{Adding an irrelevant generator} to a presentation \(\pres{X}[R]\) means: 
\[
\pres{X,x}[R,x^{-1}w]
\] 
where \(x\) is some new variable, not already in \(X\), and \(w\) is a word on the alphabet \(X\), so \(x\) can be replaced wherever it appears by \(w\).
\item
\emph{Removing an irrelevant generator} to a presentation \(\pres{X,x}[R,x^{-1}w]\) with \(w\) a word in \(X\) means: \(\pres{X}[R]\).
\end{enumerate}

\begin{example}
Adding an irrelevant relation: \(\pres{x,y}[x^2=y^3]\) can become \(\pres{x,y}[x^2=y^3,x^4=y^6]\).
\end{example}

\begin{example}
Removing an irrelevant relation: \(\pres{x,y}[x^2=y^3,x^4=y^6]\) can become \(\pres{x,y}[x^2=y^3]\).
\end{example}

\begin{example}
Adding an irrelevant generator: \(\pres{x,y}[x^2=y^3]\) can become \(\pres{x,y,z}[x^2=y^3,z=x^2y^5]\).
\end{example}

\begin{example}
Removing an irrelevant generator: \(\pres{x,y,z}[x^2=y^3,z=x^2y^5]\) can become \(\pres{x,y}[x^2=y^3]\).
\end{example}


\begin{theorem}
Any two finite presentations of the same group are related by a finite sequence of Tietze transformations.
\end{theorem}
\begin{proof}
Take two finite presentations \(\pres{X}[R]\), \(\pres{Y}[S]\).
To avoid confusion, we can suppose that the alphabets \(X\) and \(Y\) are represented by disjoints sets of symbols.
Each \(y\) in \(Y\) represents some element in the group, given by some word in \(X\), say \(y=w(x)\) in the group.
Take one such expression \(y^{-1}w(x)\) in the alphabet \(X \cup Y\) for each \(y\) in \(Y\).
Let \(U\) be the set of all these expressions.
Then \(\pres{X}[R]\) becomes, after adding irrelevant generators, \(\pres{X\cup Y}[R \cup U]\).

Each \(x\) in \(X\) represents some element in the group, given by some word in \(Y\), say \(x=w(y)\) in the group.
Take one such expression \(x^{-1}w(y)\) in the alphabet \(X \cup Y\) for each \(x\) in \(X\).
Each such expression is a consequence of the relations, because it is true in the group.
Let \(V\) be the set of all these expressions.
Then \(\pres{X\cup Y}[R \cup U]\) becomes, after adding irrelevant relations, \(\pres{X\cup Y}[R \cup U \cup V]\).

For each \(s \in S\), the relation \(s=1\) holds in the group, so adding irrelevant relations to \(\pres{X\cup Y}[R \cup U \cup V]\) gives \(\pres{X\cup Y}[R \cup U \cup V \cup S]\).

By the same argument, starting again but reversing roles of \(\pres{X}[R]\), \(\pres{Y}[S]\), we can get from \(\pres{Y}[S]\) to 
\[
\pres{Y\cup X}[S \cup V \cup U \cup R]
=
\pres{X\cup Y}[R \cup U \cup V \cup S].
\]
\end{proof}

\section{Morphisms}
A \emph{morphism}\define{morphism!of groups} of groups is a map \(\phi \colon G \to H\) so that \(\phi(xy)=\phi(x)\phi(y)\): \(\phi\) preserves multiplication. 
We have seen several of these.
\begin{example}
Label the vertices of an equilateral triangle as \(1,2,3\).
Identify the group \(G\) of symmetries of the triangle with the symmetric group \(H\) on 3 letters, by taking each symmetry \(g\) of the equilateral triangle to the permutation \(h=\phi(g)\) of its vertices.
\end{example}
\begin{example}
Label the vertices of any polygon \(X\) in the plane, or polyhedron \(X\) in Euclidean 3-dimensional space, with \(n\) vertices.
Map the group \(G\) of symmetries of \(X\) to the symmetric group \(H\) on \(n\) letters, by taking each symmetry \(g\) of \(X\) to the permutation \(h=\phi(g)\) of its vertices.
This map might not be surjective.
For example, if \(X\) is a square in the plane
\begin{center}
\input{square-rotations}
\end{center}
no rotation or reflection will ever put \(1\) and \(2\) diagonally across from each other, because that would pull them apart to a greater distance.
\end{example}
\begin{example}
Every element \(g\) of any group \(G\) has associated a morphism
\[
\phi \colon \Z{} \to G,
\]
given by \(\phi(k)=g^k\).
This map is surjective just when \(G\) is cyclic generated by \(g\), and injective just when \(g\) has infinite order.
\end{example}

\begin{problem}{groups:image.2}
Prove that every subgroup \(G\) of any group \(H\) is the image of a morphism of groups \(\phi \colon G \to H\).
\end{problem}

We can already apply the concept of morphism to reexamine group presentations:
\begin{lemma}\label{lemma:presentation.induced}
Every map of sets \(f \colon X \to G\) to a group extends uniquely to a morphism of groups \(f \colon \pres{X} \to G\).
If \(R \subset \pres{X}\) is a set consisting entirely of words 
\[
w=x_1^{a_1} x_2^{a_2} \dots x_k^{a_k}
\]
on the alphabet \(X\) for which
\[
f(x_1)^{a_1} \dots f(x_k)^{a_k} = 1,
\]
then there is a unique morphism of groups \(\pres{X}[R] \to G\) extending \(f\).
In particular, if \(R\) generates of all such words, then \(f\) is injective.
\end{lemma}
\begin{proof}
We extend \(f\) to words by  taking any word
\[
w=x_1^{a_1} x_2^{a_2} \dots x_k^{a_k}
\]
on the alphabet \(S\) to
\[
f(x_1)^{a_1} \dots f(x_k)^{a_k}.
\]
By induction, \(f\) is a group morphism.
If \(R\) is as above, then \(f(w)=1\) for all \(w \in \pres{X}\) so we can unambiguously define \(f\) on equivalence classes of words, as altering a word by an element of \(R\) or its inverse has no effect on \(f(w)\).
Finally, if \(R\) generates all words for which \(f(w)=1\)  then \(f(w_1)=f(w_2)\) just when \(f(w_1w_2^{-1})=1\), just when \(w_1w_2^{-1}\) is generated by \(R\) just when \(w_1w_2^{-1}=1\) in \(\pres{X}[R]\).
\end{proof}

\begin{example}
We saw above that the presentation \(H\defeq \pres{b,c}[1=b^6=c^2=bcbc]\) gives a group which has at most 12 elements.
We also saw that the group \(G\) of symmetries of a regular hexagon has exactly 12 elements.
By lemma~\ref{lemma:presentation.induced}, there is a morphism \(H \to G\) taking \(b,c\) to \(b,c\), and hence onto \(G\).
But then \(H\) maps onto \(G\), so has at least as many elements, and the morphism is therefore a bijection, so an isomorphism.
\end{example}


Almost everything we know about any group arises from looking at morphisms to that group and from that group.
The \emph{kernel}\define{kernel} of a morphism \(\phi \colon G \to H\) is the set of all elements \(g\) of \(G\) for which \(\phi(g)=1\), i.e. the elements ``killed'' by \(\phi\).
The \emph{image}\define{image} of a morphism \(\phi \colon G \to H\) is the set of all elements \(h\) of \(H\) for which \(h=\phi(g)\) for some \(g\) in \(G\).

\begin{problem}{groups:kernel}
Prove that the kernel of any morphism of groups \(\phi \colon G \to H\) is a subgroup of \(G\).
\end{problem}

\begin{problem}{groups:kernel.2}
Prove that the kernel of any morphism of groups \(\phi \colon G \to H\) is \(\set{1}\) just when \(\phi\) is injective.
\end{problem}

\begin{problem}{groups:image}
Prove that the image of any morphism of groups \(\phi \colon G \to H\) is a subgroup of \(H\).
\end{problem}

It seems natural to ask which subgroups arise as kernels and as images.


\section{Normal subgroups}
A subgroup \(K\) of a group \(G\) is \emph{normal} if \(gKg^{-1}=K\) for any \(g\) in \(G\).

\begin{problem}{groups:rigid.motion.normal}
Every rigid motion \(f\) of three dimensional Euclidean space can be written uniquely as \(f(x)=Ax+b\) where \(A\) is an orthogonal matrix and \(b\) is a vector in three dimensional Euclidean space.
A \emph{translation} is a rigid motion \(f\) of the form \(f(x)=x+b\).
An \emph{orthogonal transformation} is a rigid motion \(f\) of the form \(f(x)=Ax\).
Let \(G\) be the group of all rigid motions three dimensional Euclidean space.
Let \(T\) be the set of all translations.
Prove that \(T\) is a normal subgroup of \(G\).
Let \(U\) be the set of all orthogonal transformations.
Prove that \(U\) is \emph{not} a normal subgroup of \(G\).
\end{problem}

\begin{theorem}
A subset \(K\) of a group \(G\) is a normal subgroup if and only if \(K\) is the kernel of some morphism \(\phi \colon G \to H\) to some group \(H\).
Indeed, if \(K\) is normal, then there is a unique group operation on \(G/K\) so that the map \(\phi \colon G \to G/K\) given by \(\phi(g)=gK\) is a group morphism with kernel \(K\).
\end{theorem}
\begin{proof}
If \(K\) is the kernel of a morphism \(\phi \colon G \to H\) to some group \(H\), then an element \(k\) of \(G\) belongs to \(K\) just when \(\phi(k)=1\).
But 
\[
\phi(gkg^{-1})
=
\phi(g)\phi(k)\phi(g)^{-1}
\]
so \(\phi(k)=1\) implies \(\phi(gkg^{-1})=1\) i.e. if \(k\) lies in \(K\) then \(gkg^{-1}\) does too.
Similarly,
\begin{align*}
\phi(k)
&=
\phi(g^{-1}g \, k \, g^{-1}g),
\\
&=
\phi(g)^{-1}\phi(g \, k \, g^{-1})\phi(g),
\end{align*}
so \(\phi(gkg^{-1})=1\) implies \(\phi(k)=1\) i.e. \(k\) lies in \(K\) just when \(gkg^{-1}\) does too.
Hence \(K\) is normal.

Suppose that \(K\) is normal.
Define on \(G/K\) the operation \((bK)(cK)=bcK\).
It is convenient to write each coset \(bK\) of \(K\) as \(\bar{b}\).
Then the operation is \(\bar{b}\bar{c}=\overline{bc}\), with identity \(\bar{1}\).
To see that this is well defined, note that knowledge of the coset \(bK\) determines \(b\) precisely up to replacing \(b\) by \(bk\) for some \(k\) in \(K\).
Hence \(\bar{b}\) determines \(b\) uniquely up to the equation \(\bar{b}=\overline{bk}\) for \(k\) in \(K\).
So given \(\bar{b}\) and \(\bar{c}\), we know \(b\) and \(c\) precisely up to replacing them with \(bk_0\) and \(ck_1\) for some \(k_0, k_1\) in \(K\).
Hence this replaces \(bc\) by
\[
bk_0 ck_1 = bc (c^{-1} k_0 c) k_1.
\]
But then taking \(K\)-cosets,
\[
\overline{bk_0 ck_1} = \overline{bc}.
\]
Hence the resulting product \(\bar{bc}\) comes out the same for \(b,c\) and for \(bk_0\) and \(ck_1\), i.e. the operation is well defined.
The kernel of this operation is the set of elements \(b\) of \(G\) for which \(\bar{b}=\bar{1}\) i.e. \(bK=K\) i.e. \(b\) in \(K\).
\end{proof}

\begin{example}
In a group presentation \(\pres{X}[R]=\pres{X}/N\) where \(N \subset \pres{X}\) is the normal subgroup generated by \(R\).
\end{example}

Sage can tell you whether the subgroup \(H\) generated by some elements \(r_1,r_2,r_3\) is a normal subgroup:
\begin{sageblock}
A4 = AlternatingGroup(4)
r1 = A4("(1,2) (3,4)")
r2 = A4("(1,3) (2,4)")
r3 = A4("(1,4) (2,3)")
H = A4.subgroup([r1, r2, r3])
H.is_normal(A4)
\end{sageblock}
yields \(\sage{H.is_normal(A4)}\).

\begin{theorem}
The image of any morphism of groups \(\phi \colon G \to H\) with kernel \(K\) is isomorphic to \(G/K\) by the isomorphism
\[
\bar\phi \colon G/K \to H
\]
given by \(\bar\phi(gK)=\phi(g)\).
If \(\phi\) is onto, then \(\bar\phi\) is onto.
\end{theorem}
\begin{proof}
When we map \(g\) to \(\phi(g)\), if we replace \(g\) by \(gk\) for any \(k\) in \(K\), this replaces \(\phi(g)\) by \(\phi(gk)=\phi(g)\phi(k)=\phi(g)1=\phi(g)\).
Hence \(\bar\phi(\bar{g})=\phi(g)\) is well defined.
It is morphism of groups because \(\bar\phi(\overline{bc})=\phi(bc)=\phi(b)\phi(c)=\bar\phi(\bar{b})\bar\phi(\bar{c})\).
Its kernel is \(\set{\bar{1}}\), because \(\bar\phi(\bar{b})=1\) just when \(\phi(b)=1\) just when \(b\) is in \(K\), so just when \(\bar{b}=\bar{1}\) is the identity element of \(G/K\).
\end{proof}

Sage knows how to construct the quotient group \(G/H\):
\begin{sageblock}
A4 = AlternatingGroup(4)
r1 = A4("(1,2) (3,4)")
r2 = A4("(1,3) (2,4)")
r3 = A4("(1,4) (2,3)")
H = A4.subgroup([r1, r2, r3])
A4.quotient(H)
\end{sageblock}
yields \(\sage{A4.quotient(H)}\), meaning that the quotient group is isomorphic to the group of permutations generated by the cycle \((1 \ 2 \ 3)\).


\begin{lemma}
Suppose that \(\phi \colon G \to H\) is a morphism of groups and that \(N_G\) and \(N_H\) are normal subgroups of \(G\) and \(H\) and that \(\phi(N_G)\) lies in \(N_H\).
Then there is a unique morphism \(\bar\phi \colon G/N_G \to H/N_H\) so that \(\bar\phi(gN_G)=\phi(g)N_H\).
\end{lemma}
\begin{proof}
If we replace \(g\) by \(gn\) for some \(n\) in \(N_G\), then we alter \(\phi(g)\) to \(\phi(gn)=\phi(g)\phi(n)\).
So we don't change \(\phi(g)N_H\).
Hence \(\bar\phi\) is defined.
It is easy to check that \(\bar\phi\) is a morphism of groups.
\end{proof}

\begin{problem}{groups:action.kernel}
The \emph{kernel} \(K\) of the action of a group \(G\) on a set \(X\) is the set of elements \(g\) of \(G\) so that \(gx=x\) for every \(x\) in \(X\), i.e. the kernel is the set of elements that act trivially.
Prove that the kernel of any action is a normal subgroup, and that there is a unique action of \(G/K\) on \(X\) so that \((gK)x=gx\) for any \(g\) in \(G\) and \(x\) in \(X\).
\end{problem}


\begin{theorem}
Suppose that \(N\) is a normal subgroup of a group \(G\) and lies inside another normal subgroup \(H\) of \(G\).
Then \(G/H\) is isomorphic to \((G/N)/(H/N)\) via the map \(f(gH)=(gN)(H/N)\).
\end{theorem}
\begin{proof}
Note that \(H/N\) is a  normal subgroup of \(G/N\) because its elements are \(hN\) for \(h\) in \(H\) and so, for any \(gN\) in \(G/N\), so
\[
(gN)(hN)(gN)^{-1}=(gN)(hN)(g^{-1}N)=ghg^{-1}N
\]
lies in \(H/N\).
Therefore by the above result, the surjective morphism \(\phi \colon G \to G/N\) descends to a surjective morphism \(\bar\phi \colon G/H \to (G/N)/(H/N)\). 
The kernel of this morphism consist of the \(gH\) so that \(\phi(g)\) lies in \(H/N\), i.e. \(g\) lies in \(H\), i.e. \(gH=H\) is the identity element.
\end{proof}


\section{Amalgamations}
Suppose that \(G\) and \(H\) are two groups.
We would like to define a group \(G*H\), which contains \(G\) and \(H\), and is otherwise ``as unconstrained as possible''.
The product \(G \times H\) is not ``unconstrained'', because the elements of \(G\) commute with those of \(H\) inside \(G \times H\).

First, note that any group \(G\) has an obvious group morphism \(\pres{G} \to G\) given by \(g \mapsto g\).
It will help to write out concatenations using some symbol like
\[
g_1 * g_2 * \dots * g_n \in \pres{G}.
\]
Then we can write our group morphism as
\[
g_1 * g_2 * \dots * g_n \in \pres{G} \mapsto g_1 g_2 \dots g_n \in G.
\]
This group morphism is clearly surjective, with kernel precisely the group \(N_G \subset \pres{G}\) whose elements are the concatenations
\[
g_1 * g_2 * \dots * g_n
\]
for which \(g_1 g_2 \dots g_n=1\).
So we can write
\[
G=\pres{G}[N_G].
\]
Think of \(N_G\) as encoding all of the equations satisfied inside the group \(G\).

The \emph{free product}\define{free!product} \(G*H\)\Notation{G*H}{G*H}{amalgation} to be the group \(\pres{G \sqcup H}[N_G \sqcup N_H]\) generated by the elements of \(G\) and \(H\), subject to the relations consisting of all equations satisfied by elements of \(G\) together with all equations satisfied by elements of \(H\).

Another way to look at this: a \emph{word}\define{word} in \(G,H\) is a finite sequence of elements of \(G\) and of \(H\) (perhaps empty), written beside one another with \(*\) symbols inbetween, like
\[
g_1 * g_2 * h_1 * g_3 * h_2 * h_3 * g_4,
\]
et cetera.
We denote the empty sequence as \(1\).
We \emph{reduce} a word by deleting any appearance of the identity element (of either group), and also by replacing any two neighboring elements from the same group by their product in that group:
\[
g_1 * g_2 \mapsto g_1 g_2.
\]
A word is \emph{reduced} if we cannot further reduce it.
The group \(G*H\) is the set of reduced words, with multiplication being simply writing down one word after another and then reducing.
In practice, we never write the \(*\) in expressions \(g_1*g_2\).

\begin{problem}{groups:modular}
Let \(G\) be the cyclic group of order \(2\) and \(H\) the cyclic group of order \(3\).
Prove that every element of \(G*H\) has order \(1,2,3\) or \(\infty\).
\end{problem}

A further wrinkle: suppose that \(K \subset G\) is a subgroup which also appears as a subgroup of \(H\): \(K \subset H\).
The \emph{amalgamation} of \(G\) and \(H\) over \(K\), denoted \(G*_K H\),\Notation{G*KH}{G*_K H}{amalgation over a subgroup} is
\[
G *_K H = \pres{G \sqcup H}[N_G \sqcup N_H \sqcup E]
\]
where \(E\) is the collection of equations \(k_G=k_H\) where \(k_G\) is an element of \(K\) as a subgroup of \(G\), and \(k_H\) is the associated element of \(K \subset H\).

Again, elements of \(G *_K H\) are written as words, but we allow ourselves, to treat any expression \(g*h\) as equal to \(gk*k^{-1}h\), and \(h*g\) as equal to \(hk^{-1}*kg\) for any \(k \in K\), and again we won't write explicitly the \(*\) symbol when we compute.


